{% extends "adminlayout.html" %}
{% block title %}{{pharmacy.name}} Pending and Active Orders- MediCart {% endblock %}
{% block content %}
        <section class="orders-section">
            <h2>Pending Orders</h2>
            <table class="orders-table">
                <thead>
                    <tr>
              <th scope="col">Order-Id</th>
              <th scope="col">Status</th>
              <th scope="col">Date</th>
              <th scope="col">Payment</th>
              <th scope="col">Payment ID</th>
              <th scope="col">Order From</th>
              <th scope="col">Drop Location</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                {%for order in orders%}
                   <tr>
                        <td>{{order.order_id}}</td>
                      <td>
                        {{order.status}}
                     <form action="{{url_for('pharmacy.updatestatus', order_id=order.id)}}" method="POST">
                       {{ form.hidden_tag() }}
                      {{form.status(class='form-control')}}
                      {{form.submit(class='btn')}}
                    </form>
                      </td>
                      <td>
                        {{order.create_at.strftime('%Y - %m - %d @ %H:%M') }}
                      </td>
                        <td>{{order.payment}}</td>
                        <td>{{order.transactionID}}</td>
                        <td>
                          {{order.user.email}}
                        </td>
                       <td>{{order.location}}</td>
                      <td>
                          <button class="btn" onclick="window.location.href='{{url_for('pharmacy.userorders', order_id=order.id)}}'">
                              View Details
                          </button>
                      </td>
                    </tr>
                {%endfor%}
                </tbody>
            </table>
          <h2>Approved Orders</h2>
            <table class="orders-table">
                <thead>
                    <tr>
              <th scope="col">Order-Id</th>
              <th scope="col">Status</th>
              <th scope="col">Date</th>
              <th scope="col">Payment</th>
              <th scope="col">Payment ID</th>
              <th scope="col">Order From</th>
              <th scope="col">Drop Location</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                {%for order in approved_order%}
                   <tr>
                        <td>{{order.order_id}}</td>
                      <td>
                        {{order.status}}
                     <form action="{{url_for('pharmacy.updatestatus', order_id=order.id)}}" method="POST">
                       {{ form.hidden_tag() }}
                      {{form.status(class='form-control')}}
                      {{form.submit(class='btn')}}
                    </form>
                      </td>
                      <td>
                        {{order.create_at.strftime('%Y - %m - %d @ %H:%M') }}
                      </td>
                        <td>{{order.payment}}</td>
                        <td>{{order.transactionID}}</td>
                        <td>
                          {{order.user.email}}
                        </td>
                       <td>{{order.location}}</td>
                      <td>
                          <button class="btn" onclick="window.location.href='{{url_for('pharmacy.userorders', order_id=order.id)}}'">
                              View Details
                          </button>
                      </td>
                    </tr>
                {%endfor%}
                </tbody>
            </table>
 <h2>Ready Orders</h2>
            <table class="orders-table">
                <thead>
                    <tr>
              <th scope="col">Order-Id</th>
              <th scope="col">Status</th>
              <th scope="col">Date</th>
              <th scope="col">Payment</th>
              <th scope="col">Payment ID</th>
              <th scope="col">Order From</th>
              <th scope="col">Drop Location</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                {%for order in readyorder%}
                   <tr>
                        <td>{{order.order_id}}</td>
                      <td>
                        {{order.status}}
                     <form action="{{url_for('pharmacy.updatestatus', order_id=order.id)}}" method="POST">
                       {{ form.hidden_tag() }}
                      {{form.status(class='form-control')}}
                      {{form.submit(class='btn')}}
                    </form>
                      </td>
                      <td>
                        {{order.create_at.strftime('%Y - %m - %d @ %H:%M') }}
                      </td>
                        <td>{{order.payment}}</td>
                        <td>{{order.transactionID}}</td>
                        <td>
                          {{order.user.email}}
                        </td>
                       <td>{{order.location}}</td>
                      <td>
                          <button class="btn" onclick="window.location.href='{{url_for('pharmacy.userorders', order_id=order.id)}}'">
                              View Details
                          </button>
                      </td>
                    </tr>
                {%endfor%}
                </tbody>
            </table>
             <h2>Orders on Delivery</h2>
            <table class="orders-table">
                <thead>
                    <tr>
              <th scope="col">Order-Id</th>
              <th scope="col">Status</th>

              <th scope="col">Date</th>
              <th scope="col">Payment</th>
              <th scope="col">Payment ID</th>
              <th scope="col">Order From</th>
              <th scope="col">Drop Location</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                {%for order in ondelivery%}
                   <tr>
                        <td>{{order.order_id}}</td>
                      <td>
                        {{order.status}}
                     <form action="{{url_for('pharmacy.updatestatus', order_id=order.id)}}" method="POST">
                       {{ form.hidden_tag() }}
                      {{form.status(class='form-control')}}
                      {{form.submit(class='btn')}}
                    </form>
                      </td>
                      <td>
                        {{order.create_at.strftime('%Y - %m - %d @ %H:%M') }}
                      </td>
                        <td>{{order.payment}}</td>
                        <td>{{order.transactionID}}</td>
                        <td>
                          {{order.user.email}}
                        </td>
                       <td>{{order.location}}</td>
                      <td>
                          <button class="btn" onclick="window.location.href='{{url_for('pharmacy.userorders', order_id=order.id)}}'">
                              View Details
                          </button>

                      </td>
                    </tr>
                {%endfor%}
                <!-- Add more rows for additional orders -->
                </tbody>
            </table>
        </section>

{%endblock%}